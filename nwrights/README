   Copyright 2003 Jonathan Gallimore

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
   
Introduction
------------
   
This package contains the source code for NWRights, a NetWare NLM command line
based tool for listing and editing trustee rights and rights filters.


Building
--------

The "nlmstuff" build environment based on the GNU utlities was used to build the
binary NLM, but Watcom and other compilers can probably be used as well.


What it does
------------

Nwrights is a program that allows administrators to issue NetWare trustee rights
from the server console itself. It runs as an NLM.

The following functions can be carried out:
View trustee rights assignments for a file / folder and all subfolders
View inherited rights filters (IRFs)
Set trustee rights for files and folder 
	(or add / revoke rights using + and Ð syntax)
Set IRFs
Backup trustee rights to a text file for a folder and any sub-folders
Restore rights from a text file

The program itself has been written to be as similar to the rights.exe command 
that most administrators will be familiar with, and also to work with batch 
files with rights commands in that may be generated by third party utilities. 
It also supports long filenames.

Requirements
------------

Novell NetWare (tested on NetWare 5.1 and NetWare 6.0)
Novell Directory Services (NDS) (tested on 8.82, and e-Directory 8.6.2)
You will also need appropriate rights to view and assign rights

How to use
----------

The NLM is command line driven. The syntax is given here.

Assigning trustees and IRFs
Nwrights <file/folder> <rights> {/NAME=<full NDS context for trustee> | /F} 
	[/U=<username>] [/P=<password>]

Viewing trustee rights and IRFs
Nwrights <file/folder> [/U=<username>] [/P=<password>]

Writing trustee rights and IRFs to a text file
Nwrights <file/folder> /B=<text file> [/U=<username>] [/P=<password>]

Restoring trustee rights and IRF from a text file
Nwrights /R=<text file> [/U=<username>] [/P=<password>]

Rights

R - Read	W - Write	C - Create	M - Modify	E - Erase
F - Filescan	A - Access Control 		S - Supervisor
You can use + or - to add or revoke to and from existing rights. 
Use REM to remove a trustee.

Examples
--------

Assign Read and filescan rights to SYS:Public
Nwrights sys:public +RF /NAME=[Root] /u=.admin.services.org /p=pass

Filter off all rights except supervisor on the shared folder on the data volume
Nwrights data:shared S /F /u=admin.services.org /p=pass

List all trustee rights for the SYS: volume and all subfolders
Nwrights sys: /u=admin.services.org /p=pass

Backup all the trustee rights on the SYS: volume into a text file
Nwrights sys: /b=sys:backup.txt /u=admin.services.org /p=pass

Restore rights from SYS:backup.txt
Nwrights /r=sys:backup.txt /u=admin.services.org /p=pass

Comments
--------

Please send comments, criticisms to Jonathan Gallimore, jon@jrg.me.uk
